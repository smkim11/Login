<!DOCTYPE html>
<html>
<head>
  <title>Naver Sign-In Example</title>
  <script src="https://static.nid.naver.com/js/naveridlogin_js_sdk_2.0.0.js" type="text/javascript"></script>
</head>
<body>
  <script type="text/javascript">
    var naverLogin = new naver.LoginWithNaverId({
      clientId: 'zHZlYy_9Bk0sa53Yfdoh',
      callbackUrl: 'https://localhost:8080/login/oauto2/naver',
      isPopup: false, /* 팝업을 통한 연동처리 여부 */
      loginButton: { color: 'green', type: 3, height: 60 }, /* 로그인 버튼의 타입과 스타일 지정 */
      callbackHandle: false, /* callback 페이지로 response를 직접 처리할 경우 false, 별도의 처리 로직이 있는 경우 true */
      onSuccess: function (result) {
        // 로그인 성공 시 처리 로직 작성
        console.log(result);
      },
      onFailure: function (result) {
        // 로그인 실패 시 처리 로직 작성
        console.error(result);
      },
      onSessionChanged: function () {
        // 세션이 변경될 때 처리 로직 작성
        var naver_id_login = new naver.LoginWithNaverId({
          clientId: 'zHZlYy_9Bk0sa53Yfdoh',
          callbackUrl: 'https://localhost:8080/login/oauto2/naver',
          isPopup: false,
          callbackHandle: false
        });
        naver_id_login.getNaverUser(function (state, response) {
          if (state) {
            // 세션 연결 성공 시 처리 로직 작성
            console.log(response);
          } else {
            // 세션 연결 실패 시 처리 로직 작성
            console.error(response);
          }
        });
      }
    });
    // 네이버 아이디로 로그인 버튼 노출
    naverLogin.init();
  </script>
</body>
</html>
